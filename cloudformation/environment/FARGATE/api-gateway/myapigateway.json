{
    "Resources": {
      "MyApiGateway": {
        "Type": "AWS::ApiGateway::RestApi",
        "Properties": {
          "Name": "MyAPIGateway",
          "Description": "API Gateway for Slack Integration"
        }
      },
  
      "MyApiResource": {
        "Type": "AWS::ApiGateway::Resource",
        "Properties": {
          "RestApiId": { "Ref": "MyApiGateway" },
          "ParentId": { "Fn::GetAtt": ["MyApiGateway", "RootResourceId"] },
          "PathPart": "update-service"
        }
      },
  
      "MyApiMethod": {
        "Type": "AWS::ApiGateway::Method",
        "Properties": {
          "RestApiId": { "Ref": "MyApiGateway" },
          "ResourceId": { "Ref": "MyApiResource" },
          "HttpMethod": "POST",
          "AuthorizationType": "AWS_IAM",
          "Integration": {
            "IntegrationHttpMethod": "POST",
            "Type": "AWS_PROXY",
            "Uri": "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:791918029132:function:deploy_ecs/invocations"
          },
          "MethodResponses": [
            {
              "StatusCode": "200",
              "ResponseModels": {
                "application/json": "Empty"
              }
            }
          ],
          "RequestModels": {
            "application/json": "Empty"
          }
        }
      },
  
      "MyApiStage": {
        "Type": "AWS::ApiGateway::Stage",
        "Properties": {
          "RestApiId": { "Ref": "MyApiGateway" },
          "DeploymentId": { "Ref": "MyApiDeployment" },
          "StageName": "Prod"
        }
      },
  
      "MyApiDeployment": {
        "Type": "AWS::ApiGateway::Deployment",
        "DependsOn": "MyApiMethod",
        "Properties": {
          "RestApiId": { "Ref": "MyApiGateway" }
        }
      }
    }
  }
  